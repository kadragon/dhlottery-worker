spec_id: SPEC-REFACTOR-P1-DEBUG-001
title: "Remove non-functional debug HTML write code"
priority: medium
phase: 1

given_when_then:
  - given: "auth.ts contains debug HTML write code targeting /tmp/ (lines 171-184)"
    when: "the code attempts to write debug HTML to file system"
    then: "it fails silently on Cloudflare Workers (no file system access)"

  - given: "the debug code serves no functional purpose in production"
    when: "we remove the broken debug HTML write code"
    then: "the codebase becomes cleaner with no behavioral changes"

acceptance_tests:
  - id: TEST-REFACTOR-P1-DEBUG-001
    desc: "auth.ts lines 171-184 (debug HTML write) should be removed"

  - id: TEST-REFACTOR-P1-DEBUG-002
    desc: "all existing auth tests should continue to pass after removal"

dependencies:
  - file: "src/dhlottery/auth.ts"
  - governance: "coding-style.md"

linked_tasks:
  - TASK-REFACTOR-P1-001

notes: |
  Location: src/dhlottery/auth.ts:171-184
  Impact: Zero (code is non-functional on Cloudflare Workers)
  Effort: 5 minutes
  Risk: None (dead code removal)
